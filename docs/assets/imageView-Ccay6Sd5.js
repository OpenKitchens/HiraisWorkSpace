import{d as z,r as o,c as p,n as x,a as C,b as e,e as b,w as m,u as g,t as c,F as D,f as N,o as w,g as y,R as k,p as j,h as R,_ as A}from"./index-BnXN2jdl.js";const I=i=>(j("data-v-d7775036"),i=i(),R(),i),B=I(()=>e("h1",{class:"text-white text-center font-bold text-3xl",style:{position:"absolute",top:"50vh",left:"50vw",transform:"translate(-50%,-50%)"}}," After school ",-1)),F=[B],O={class:"w-screen lg:mx-20 sm:mx-10 mx-5"},$={class:"flex justify-between position fixed mt-5 z-30 width"},E={class:"h-screen w-screen fixed -z-50"},H=I(()=>e("div",{class:"flex items-center justify-center absolute z-10 w-screen h-4/5"},null,-1)),J={class:"w-screen",style:{height:"90vh"}},L={class:"h-4/5 w-screen"},P={style:{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%,-50%)",width:"70vw"}},G={class:"flex"},K=["src"],M={class:"my-auto ml-10"},Q={class:"text-white text-left font-extrabold tracking-tight text-5xl"},U={class:"text-white font-bold mt-3 text-xl opacity-50 text-left"},W={class:"flex mt-12"},X=["src"],Y={class:"text-white text-center font-extrabold tracking-tight text-xl mr-5 opacity-50 mx-5 my-auto"},Z=["src"],ee={class:"text-white text-center font-extrabold tracking-tight text-xl mr-5 opacity-50 mx-5 my-auto"},te=z({__name:"imageView",setup(i){const a=N(),l=(s,f,T)=>{let _=new Headers;_.append("Content-Type","application/json");let V=new Request(`https://frozen-thicket-61367-2b17a9177877.herokuapp.com/${s}`,{method:"POST",headers:_,body:JSON.stringify(f)});fetch(V).then(n=>n.json()).then(n=>{T(n)}).catch(n=>{console.error(n)})};l("getThread",{threadID:a.query.view},s=>{t.value=s,console.log(s),u.value=`background-image: url('${s.Image}')`,h.value="animation: fadeInAnime 2s forwards",setTimeout(()=>{v.value=!1},1e3)});const t=o({}),u=o(""),h=o(""),v=o(!0),r=o("/icons/heart.svg"),d=o("/icons/bad.svg"),S=()=>{r.value="/icons/heart.fill.svg",d.value="/icons/bad.svg",l("count",{threadID:a.query.view,key:"favorite"},s=>{}),l("uncount",{threadID:a.query.view,key:"bad"},s=>{}),t.value.favorite++,t.value.bad--,t.value.bad<=0&&(t.value.bad=0)},q=()=>{d.value="/icons/bad.fill.svg",r.value="/icons/heart.svg",l("uncount",{threadID:a.query.view,key:"favorite"},s=>{}),l("count",{threadID:a.query.view,key:"bad"},s=>{}),t.value.bad++,t.value.favorite--,t.value.favorite<=0&&(t.value.favorite=0)};return(s,f)=>(w(),p(D,null,[v.value?(w(),p("div",{key:0,class:"w-full h-full position fixed z-20 bg-black loading",style:x(h.value)},F,4)):C("",!0),e("div",O,[e("div",$,[b(g(k),{class:"text-white text-center font-bold text-3xl",to:"/"},{default:m(()=>[y("After school")]),_:1}),b(g(k),{class:"px-5 py-2 bg-gray-200 text-black font-semibold rounded-full hover:bg-gray-300",to:"/postThread"},{default:m(()=>[y(" スレッド投稿 ")]),_:1})])]),e("div",E,[e("div",{style:x(u.value),class:"h-4/5 w-screen absolute bg-center bg-cover opacity-30"},null,4),H]),e("div",J,[e("div",L,[e("div",P,[e("div",G,[e("img",{src:t.value.Image,class:"card mr-10 hidden md:block"},null,8,K),e("div",M,[e("h1",Q,c(t.value.Title),1),e("p",U,c(t.value.username)+"・"+c(t.value.date),1),e("div",W,[e("button",{class:"w-12 h-12 bg-pink-600 text-lg text-white font-semibold rounded-full hover:bg-pink-700 border-2 border-pink-500",onClick:S},[e("img",{src:r.value,class:"m-auto"},null,8,X)]),e("p",Y,c(t.value.favorite),1),e("button",{class:"w-12 h-12 bg-purple-600 text-lg text-white font-semibold rounded-full hover:bg-purple-700 border-2 border-purple-500",onClick:q},[e("img",{src:d.value,class:"m-auto"},null,8,Z)]),e("p",ee,c(t.value.bad),1)])])])])])])],64))}}),oe=A(te,[["__scopeId","data-v-d7775036"]]);export{oe as default};
